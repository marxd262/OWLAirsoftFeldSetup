@page "/AdminPanel"
@using OWLServer.Services
<RadzenRow>
    <RadzenColumn Size="4">
        <RadzenRow JustifyContent="JustifyContent.SpaceBetween">
            <RadzenColumn Size="12">
                <RadzenCard Variant="Variant.Flat" class="rz-my-2">
                    <RadzenStack>
                        <RadzenText TextStyle="TextStyle.H6">Spielmodusauswahl</RadzenText>
                        <RadzenDropDown TValue="GameMode" ValueChanged="GameModeChanged"
                                        Data="Enum.GetValues(typeof(GameMode))"
                                        Value="@GameStateService.CurrentGame"/>
                    </RadzenStack>
                </RadzenCard>
            </RadzenColumn>
        </RadzenRow>
        <RadzenRow JustifyContent="JustifyContent.SpaceBetween">
            <RadzenColumn Size="12">
                <RadzenCard Variant="Variant.Flat" class="rz-my-2">
                    <RadzenStack>
                        <RadzenText TextStyle="TextStyle.H6"> Spielstart </RadzenText>
                        <RadzenButton ButtonStyle="@(GetButtonStyle)" Text="@(GetButtonText)" Click="ButtonClick"/>
                        
                        <RadzenToggleButton 
                            @bind-Value="GameStateService.TeamSetReady"
                            Change="@ToggleButtonClick"
                            Text="@(GameStateService.TeamSetReady ? "Teams können sich bereitsetzen!" : "Teams können sich nicht bereit setzen")"
                            ButtonStyle="ButtonStyle.Danger"
                            ToggleButtonStyle="ButtonStyle.Success"></RadzenToggleButton>
                        
                        <RadzenStack Orientation="Orientation.Horizontal" Gap=".5rem" >
                            <RadzenBadge class="rz-w-auto" BadgeStyle="@(GameStateService.TeamBlueReady ? BadgeStyle.Success : BadgeStyle.Danger )" Text="@(GameStateService.TeamBlueReady ? "Blau Ready" : "Blau nicht Ready" )"></RadzenBadge>
                            <RadzenBadge class="rz-w-auto" BadgeStyle="@(GameStateService.TeamRedReady ? BadgeStyle.Success : BadgeStyle.Danger )" Text="@(GameStateService.TeamRedReady ? "Rot Ready" : "Rot nicht Ready" )"></RadzenBadge>
                        </RadzenStack>
                        
                        <RadzenToggleButton @bind-Value="@GameStateService.AutoStartAfterReady" > AutoStart</RadzenToggleButton>
                        
                    </RadzenStack>
                </RadzenCard>
            </RadzenColumn>
        </RadzenRow>
    </RadzenColumn>
    <RadzenColumn Size="8">
        <RadzenCard Variant="Variant.Flat" class="rz-my-2">
            <RadzenText TextStyle="TextStyle.H6">Spielmodus Einstellungen</RadzenText>
            @switch (GameStateService.CurrentGame)
            {
                case GameModeTeamDeathmatch:
                    <GameModeDeathMatchConfig
                        CurrentGame="@((GameModeTeamDeathmatch)GameStateService.CurrentGame)"/>
                    break;
                case GameModeConquest:
                    <GameModeConquestConfig
                        CurrentGame="@((GameModeConquest)GameStateService.CurrentGame)"/>
                    break;
                default:
                    <RadzenText>
                        Kein unterstützter Spielmodus Ausgewählt
                    </RadzenText>
                    break;
            }
        </RadzenCard>
    </RadzenColumn>
</RadzenRow>